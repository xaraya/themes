<?xml version="1.0" encoding="utf-8"?>
<xar:template xmlns:xar="http://xaraya.com/2004/blocklayout">

<xar:if condition="isset($sort) and ($sort eq 'title')">
    <xar:comment>Added to automatically display an alpha pager when articles are sorted by title.</xar:comment>
    <xar:style scope="module" module="articles" file="alphapager" />

    <div class="alphapager-wrapper">
        <a href="#xarServer::getCurrentURL(array('letter' =&#62; null, 'startnum' =&#62; null, 'q' =&#62; null))#"><xar:mlstring>All</xar:mlstring></a>
        <xar:for start="$i = ord('A')" test="$i le ord('Z')" iter="$i++">
            <xar:set name="curletter">chr($i)</xar:set>

            <xar:if condition="!empty($letter) and ($letter eq strtolower($curletter))">
                <span>#$curletter#</span>
            <xar:else />
                <a href="#xarServer::getCurrentURL(array('letter' =&#62; $curletter, 'startnum' =&#62; null, 'q' =&#62; null))#">#$curletter#</a>
            </xar:if>

        </xar:for>
        <xar:if condition="!empty($letter) and ($letter eq 'other')">
            <span><xar:mlstring>Other</xar:mlstring></span>
        <xar:else />
            <a href="#xarServer::getCurrentURL(array('letter' =&#62; 'other', 'startnum' =&#62; null, 'q' =&#62; null))#"><xar:mlstring>Other</xar:mlstring></a>
        </xar:if>
    </div>

</xar:if>


</xar:template>