<div class="article-view" style=" margin-bottom: 10px; ">
    <a href="#$link#">#$title#</a> (click link for more info)
        <xar:if condition="!empty($categories) and count($categories) gt 0">
            [ <xar:foreach in="$categories" value="$cat">
                #$cat['cjoin']# <a href="#$cat['clink']#">#$cat['cname']#</a>
            </xar:foreach> ]
        </xar:if>
    <br><b><xar:mlstring>Description</xar:mlstring>:</b>
    #$summary#
    <br><b><xar:mlstring>File Name</xar:mlstring>:</b>
    <xar:if condition="empty($notes)">
    <xar:elseif condition="xarModIsHooked('uploads','articles',$pubtypeid) and substr($notes,0,1) eq ';'" />
    <xar:comment>
        If you hook the uploads module to articles, then file upload fields will contain
        a comma-separated list of file ids, and you will need to call an API function to
        retrieve the file information. For dynamic extra fields, you can use [fieldname]_output
        directly to access the file information.
    </xar:comment>
        <xar:set name="notes_output">xarModAPIFunc('uploads','user','showoutput',array('value' => $notes))</xar:set>
        <xar:foreach in="$notes_output" key="$fileid" value="$fileinfo">
            <a href="#$fileinfo['fileDownload']#">#$fileinfo['fileName']#</a>
        </xar:foreach>
    <xar:elseif condition="file_exists('var/uploads/'.$notes)" />
        <p><a href="var/uploads/#$notes#" title="#$notes#">#$notes#</a></p>
    <xar:else />
        <p>#$notes#</p>
    </xar:if>
</div>